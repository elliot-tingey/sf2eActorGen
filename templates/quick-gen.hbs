<form>
  <div class="form-group">
    <label>Ancestry</label>
    <select name="ancestryKey">
      {{#each ancestryOptions}}
        <option value="{{this.value}}">{{this.label}}</option>
      {{/each}}
    </select>
  </div>

  <div class="form-group">
    <label>Name</label>
    <div style="display:flex; gap:8px; align-items:center;">
      <input type="text" name="manualName" placeholder="Leave blank for random" style="flex:1;" />
      <label style="display:flex; gap:6px; align-items:center; margin:0;">
        <input type="checkbox" name="randomName" checked />
        Random
      </label>
    </div>
  </div>

  <hr/>

  <div class="form-group">
    <label>Level Range</label>
    <div style="display:flex; gap:8px;">
      <input type="number" name="minLevel" value="1" min="-1" max="25" style="width:120px;" />
      <input type="number" name="maxLevel" value="1" min="-1" max="25" style="width:120px;" />
    </div>
  </div>

  <div class="form-group">
    <label>Class</label>
    <select name="classKey">
      {{#each classOptions}}
        <option value="{{this.value}}">{{this.label}}</option>
      {{/each}}
    </select>
  </div>

  <div class="form-group">
    <label>Strength</label>
    <select name="strengthKey">
      {{#each strengthOptions}}
        <option value="{{this.value}}">{{this.label}}</option>
      {{/each}}
    </select>
    <p class="notes">Uses the NPC sheet adjustment (weak/elite). No base stat edits.</p>
  </div>

  <div class="form-group">
    <label>Rarity</label>
    <select name="rarity">
      {{#each rarityOptions}}
        <option value="{{this.value}}">{{this.label}}</option>
      {{/each}}
    </select>
  </div>

  <div class="form-group">
    <label>Size</label>
    <select name="size">
      {{#each sizeOptions}}
        <option value="{{this.value}}">{{this.label}}</option>
      {{/each}}
    </select>
  </div>

  <hr/>

  <div class="form-group">
    <label>Inventory</label>
    <select name="inventoryMode">
      {{#each inventoryModes}}
        <option value="{{this.value}}">{{this.label}}</option>
      {{/each}}
    </select>
    <p class="notes">By class picks a loot bias using class roadmaps. Weighted rolls a loot bias using the weights below.</p>
  </div>

  <fieldset style="margin-top:8px;">
    <legend>Inventory Weights (used when Inventory = Weighted)</legend>
    {{#each inventoryWeightOptions}}
      <div class="form-group" style="display:flex; align-items:center; justify-content:space-between;">
        <label style="margin:0;">{{this.label}}</label>
        <input type="number" name="invWeight.{{this.value}}" value="{{this.defaultWeight}}" min="0" max="100" style="width:90px;" />
      </div>
    {{/each}}
  </fieldset>

  <hr/>

  <div class="form-group">
    <label>Spells</label>
    <select name="spellsMode">
      {{#each spellsModes}}
        <option value="{{this.value}}">{{this.label}}</option>
      {{/each}}
    </select>
  </div>

  <div class="form-group">
    <label style="display:flex; gap:8px; align-items:center;">
      <input type="checkbox" name="addClassFeatures" checked />
      Add class features (best-effort)
    </label>
  </div>

  <div class="form-group">
    <label style="display:flex; gap:8px; align-items:center;">
      <input type="checkbox" name="addActions" checked />
      Add actions (best-effort)
    </label>
  </div>

  <footer class="sheet-footer flexrow">
    <button type="submit">
      <i class="fa-solid fa-user-plus"></i> Create NPC
    </button>
  </footer>
</form>
